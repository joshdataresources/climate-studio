FROM node:20-alpine

WORKDIR /app

# Copy root package files
COPY package*.json ./

# Copy packages and apps directories
COPY packages ./packages
COPY apps ./apps

# Install dependencies from root
RUN npm install

# Expose port
EXPOSE 8080

# Start Vite dev server using root script
CMD ["npm", "run", "dev:studio"]